"use strict";const e=require("../../common/vendor.js"),o=require("../../utils/system.js"),t=require("../../api/request.js");if(!Array){(e.resolveComponent("uni-icons")+e.resolveComponent("common-userlist")+e.resolveComponent("common-userlist-button"))()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../components/common-userlist/common-userlist.js")+(()=>"../../components/common-userlist-button/common-userlist-button.js"))();const n={__name:"mypage",setup(n){const s=e.ref(),a=()=>{e.index.navigateTo({url:"/pages/personalCenter/personalCenter"})};return(async()=>{if(e.cookies.get("x-token")){let e=await t.GetUserinfo();s.value=e.data}else e.wx$1.login({success:async e=>{if(null!=e.code){let o=await t.GetLogin(e.code);s.value=o.data.user}}})})(),e.onShow((async()=>{if(e.cookies.get("x-token")){let e=await t.GetUserinfo();s.value=e.data,console.log(e.data)}})),e.onMounted((async()=>{if(e.cookies.get("x-token")){let e=await t.GetUserinfo();console.log(e)}})),(t,n)=>e.e({a:e.unref(o.getNavBarheight)()+"px",b:s.value},s.value?{c:s.value.headPortrait,d:e.o(a),e:e.t(s.value.nickname),f:e.o(a),g:e.t(s.value.ID)}:{},{h:e.p({type:"contact-filled",size:"30",color:"#23b389"}),i:e.p({type:"right",size:"15",color:"#aaa"}),j:e.p({type:"weixin",size:"30",color:"#23b389"}),k:e.p({type:"right",size:"15",color:"#aaa"})})}},s=e._export_sfc(n,[["__scopeId","data-v-9d2504e4"]]);n.__runtimeHooks=2,wx.createPage(s);
