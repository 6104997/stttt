{"version":3,"file":"virtual-list.js","sources":["../../../../../../../../../../uni_modules/z-paging/components/z-paging/js/modules/virtual-list.js"],"sourcesContent":null,"names":["virtualListModule","props","useVirtualList","type","Boolean","default","u","gc","useCompatibilityMode","extraData","Object","useInnerList","forceCloseInnerList","cellKeyName","String","innerListStyle","innerCellStyle","preloadPage","Number","validator","value","uni_modules_zPaging_components_zPaging_js_zPagingUtils","consoleErr","cellHeightMode","Enum","CellHeightMode","Fixed","fixedCellHeight","virtualListCol","virtualScrollFps","data","virtualListKey","getInstanceId","virtualPageHeight","virtualCellHeight","virtualScrollTimeStamp","virtualList","virtualPlaceholderTopHeight","virtualPlaceholderBottomHeight","virtualTopRangeIndex","virtualBottomRangeIndex","lastVirtualTopRangeIndex","lastVirtualBottomRangeIndex","virtualItemInsertedCount","virtualHeightCacheList","getCellHeightRetryCount","fixed","dynamic","pagingOrgTop","updateVirtualListFromDataChange","watch","realTotalData","this","updateVirtualListRender","newVal","$emit","computed","virtualCellIndexKey","c","listCellIndexKey","finalUseVirtualList","usePageScroll","finalUseInnerList","finalCellKeyName","finalVirtualPageHeight","windowHeight","finalFixedCellHeight","convertToPx","virtualRangePageHeight","virtualScrollDisTimeStamp","methods","doInsertVirtualListItem","item","index","Dynamic","prototype","toString","call","cellIndexKey","listCellIndexUniqueKey","$nextTick","async","retryCount","wait","delayTime","cellNode","_getNodeClientRect","currentHeight","height","lastHeightCache","lastTotalHeight","totalHeight","splice","i","length","thisNode","_updateVirtualScroll","oldScrollTop","didUpdateVirtualListCell","currentNode","then","cellNodeHeight","heightDis","didDeleteVirtualListCell","isFirstPage","_updateFixedCellHeight","_resetDynamicListState","isUserPullDown","_virtualListInit","delay","node","top","_updateDynamicCellHeight","list","dataFrom","dataFromTop","heightCacheList","currentCacheList","listTotalHeight","slice","push","heightCacheItem","concat","_setCellIndex","currentItemIndex","QueryFrom","Refresh","Reload","indexOf","queryFrom","totalData","lastItem","firstItem","deepCopy","scrollTop","scrollDiff","currentTimeStamp","getTime","_resetTopRange","scrollIndex","parseInt","_updateFixedTopRangeIndex","_updateFixedBottomRangeIndex","scrollDirection","rangePageHeight","topRangePageOffset","bottomRangePageOffset","reachedLimitBottom","startTopRangeIndex","topRangeMatched","pageSize","_updateVirtualList","Math","max","min","resetVirtualList","_checkVirtualListScroll","currentTop","_innerCellClick"],"mappings":"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"}